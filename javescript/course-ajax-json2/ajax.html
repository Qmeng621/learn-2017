<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>原生ajax请求过程</title>
</head>

<body>
	<div id="myDid"></div>
	<script>
		var xmlHttp = new XMLHttpRequest();
		xmlHttp.onreadystatechange = function (response) {
			//一直在监听变化,会多次执行,只要有变化就执行里面的代码
			if (xmlHttp.readyState == XMLHttpRequest.DONE) {
				if (xmlHttp.status == 200) {
					//callback填充数据到页面
					document.getElementById('myDid').innerHTML = xmlHttp.responseText;
				} else if (xmlHttp.status == 400) {
					alert('there was an error 400');
				} else {
					alert('something else other than 200 was returned');
				}
			}
		}
		xmlHttp.open("GET", "text.txt", true); //open只执行一次
		xmlHttp.send(); //send只执行一次
		//当你open打开一个连接并send发送数据的时候,上边就会监听到变化,发送数据并且有相应的时候,当状态status等于200,把responseText返回值插入到页面里
	</script>
</body>

</html>